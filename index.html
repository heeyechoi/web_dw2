<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <title>멍 잉크 퍼짐</title>
  <style>
    html, body { margin: 0; padding: 0; background: white; overflow: hidden; }
    canvas { display: block; }
  </style>
</head>
<body>
<canvas id="canvas"></canvas>
<script>
const canvas = document.getElementById("canvas");
const ctx = canvas.getContext("2d");
canvas.width = window.innerWidth;
canvas.height = window.innerHeight;

// 마스크 이미지 설정 (멍 이미지)
const maskImage = new Image();
maskImage.src = "wang.png";  // 실제 멍... 이미지 파일 이름
let maskLoaded = false;
maskImage.onload = () => { maskLoaded = true; }

const inkSpots = [];

function createInkFromMask(x, y, amount = 600) {
  const size = 300;
  const offCanvas = document.createElement("canvas");
  offCanvas.width = size;
  offCanvas.height = size;
  const offCtx = offCanvas.getContext("2d");

  offCtx.drawImage(maskImage, 0, 0, size, size);
  const maskData = offCtx.getImageData(0, 0, size, size);

  let particles = [];
  for (let i = 0; i < amount; i++) {
    const px = Math.floor(Math.random() * size);
    const py = Math.floor(Math.random() * size);
    const index = (py * size + px) * 4;

    const alpha = maskData.data[index + 3];
    if (alpha > 100) {
      const angle = Math.random() * 2 * Math.PI;
      const speed = Math.random() * 0.8;

      let baseColor = Math.random();
      let color;
      if (baseColor < 0.33) color = `rgba(0, 0, 0, ALPHA)`;
      else if (baseColor < 0.66) color = `rgba(138, 43, 226, ALPHA)`; // 보라
      else color = `rgba(255, 215, 0, ALPHA)`; // 노랑

      particles.push({
        x: x + px - size / 2,
        y: y + py - size / 2,
        vx: Ma
